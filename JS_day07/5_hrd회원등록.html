<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Day4_쇼핑몰 회원관리_등록</title>
    <link rel="stylesheet" href="6_hrdkoreatest.css">
</head>
    <header>
            <h3 class="header-item">쇼핑몰 회원관리 ver1.0</h3>
    </header>
    <nav>
        <ul class="container">
            <li><a href="2_memberReg.html" >회원등록</a></li>
            <li><a href="3_memberList.html">회원목록조회/수정</a></li>
            <li><a href="4_sales.html">회원매출조회</a></li>
            <li><a href="1_hometest.html">홈으로</a></li>
        </ul>
    </nav>
        <section>
            <h4 style="text-align: center;">홈쇼핑 회원 등록</h5>
            <form action="">    <!--action 설정된 url로 입력요소에 작성된 데이터를 서버로 전송
            form 태그 속성 method=post 있을때 와 없을 때 차이점-->
                <table style="width: 70%;margin:auto">
                    <tr>
                        <td class="col1_title">회원번호(자동발생)</td>
                        <td><input type="text" name="num" id="num"></td>    <!-- 입력요소 데이터 식별하는 속성은 name-->
                    </tr>
                    <tr>
                        <td class="col1_title">회원성명</td>
                        <td><input type="text" name="name" id="name"></td>
                        <!-- required="required"는 지우고 함수에서 처리합니다.-->
                    </tr>
                    <tr>
                        <td class="col1_title">회원전화</td>
                        <td><input type="text" name="tel" size="30" id="call"></td>
                    </tr>
                    <tr>
                        <td class="col1_title">회원주소</td>
                        <td><input type="text" name="addr" size="40" id="addr"></td>
                    </tr>
                    <tr>
                        <td class="col1_title">가입일자</td>
                        <td><input type="text" name="reg_date" id="join"></td>
                    </tr>
                    <tr>
                        <td class="col1_title">고객등급[A:VIP,B:일반,C:직원</td>
                        <td><input type="text" name="grade" id="class"></td>
                    </tr>
                    <tr>
                        <td class="col1_title">도시코드</td>
                        <td><input type="text" name="city_code" id="ccode"></td>
                    </tr>
                    <tr>
                        <td colspan="2" style="text-align: center;">
                        <button type="button" onclick="valid_check()">등록</button>
                        <button onclick="valid_check()" type="button">조회</button>
                        <!-- button태그로 링크 또는 기능 설정하기
                        onclick 이벤트와 자바스크립트 명령을 이용합니다.
                        location.href는 a태그의 href속송설정과 같은 내용입니다.-->
                        </td>
                    </tr>

                </table>
            </form>
        </section>
        <footer>
            HRDKOREA copyright 2022ⓒ All rights reserved. Human Resources Development Service of Korea        </footer>

     <script>
        function valid_check(){
            const frm = document.forms[0];
            const name_=frm.name;
            const tel_ = frm.tel;
            const addr_=frm.addr;
            const gradef = frm.grade.value
            const grades = ['A','B','C','D']
            const cityf = frm.city_code.value;
            const temp = parseInt(cityf);   
            //cityf 에 시작문자가 숫자가 아니면 정수변환이 안되고 결과값이 NaN가 됩니다.
            console.log(cityf + ':' + temp)     //테스트용입니다.
            let isValid = true;

          if(name_.value == "") {
            alert('이름 입력은 필수입니다.')
            name_.focus();
            isValid=false; 
        } 
          else if(tel_.value == "") {
            alert('전화번호 입력은 필수입니다.')
            name_.focus();
            isValid=false; 
        } 
         else if(addr_.value == "") {
            alert('주소 입력은 필수입니다.')
            name_.focus();
            isValid=false; 
        }  else 
        /*if(gradef != "A" || gradef != "B" || gradef != "C"){
            alert('A , B , C중 하나만 입력해주세요.');
            isValid=false; 
        } */
        // 검사할 값이 많아질 때 배열을 이용해 봅시다.
        if(grades.indexOf(gradef)==-1){
            // console.log(grades.indexOf(gradef))
            alert('A , B , C, D중 하나만 입력해주세요.');
            isValid=false; 
        } else
            if(isNaN(temp) || temp<10 || temp >99 || cityf.length !=2)  {   //NaN : Not a Number , 자바스크립트의 데이터값 중 하나입니다. 실행결과로만 도출되는 데이터
            //isNaN은 temp 변수값이 NaN일때 참입니다.
            alert('2자리 숫자로만 입력해야 합니다.')
            isValid=false; 
        }


        if(isValid) {
            alert('유효성 검사 통과!!')         
        } else
            alert('유효성 검사 실패!!')
    }

            </script>
</html>